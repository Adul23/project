<section *ngIf="error" class="alert error">{{ error }}</section>
<section *ngIf="success" class="alert success">{{ success }}</section>

<main>
  <h1 class="white highlight" style="margin-bottom: 40px;">Add Expenses</h1>

  <div class="forms-container">
    <div class="wrapper">
      <h2 class="highlight">Add New Expense</h2>
      <form (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="amount">Amount</label>
          <input
            id="amount"
            type="number"
            [(ngModel)]="amount"
            name="amount"
            placeholder="e.g., 3.50"
            required
          />
        </div>

        <div class="form-group">
          <label for="description">Expense Name</label>
          <input
            id="description"
            type="text"
            [(ngModel)]="description"
            name="description"
            placeholder="e.g., Coffee"
            required
          />
        </div>

        <div class="form-group">
          <label for="category">Category</label>
          <select id="category" [(ngModel)]="category" name="category" required>
            <option *ngFor="let cat of categories" [value]="cat.id">
              {{ cat.name }}
            </option>
          </select>
        </div>

        <div class="form-group">
          <label for="currency">Currency</label>
          <select id="currency" [(ngModel)]="currency" name="currency" required>
            <option *ngFor="let cur of currencies" [value]="cur.id">
              {{ cur.code }} - {{ cur.name }}
            </option>
          </select>
        </div>

        <button class="create-btn" type="submit">Add Expense</button>
      </form>

    </div>

    <div class="wrapper">
      <h2 class="highlight">Expenses</h2>
      <ul class="expense-list">
        <li *ngFor="let expense of expenses" style="margin-bottom: 12px;">
          <span class="expense-item">
            <strong>{{ expense.amount }}</strong> â€“ {{ expense.description }}
          </span>
          <button class="delete-user" (click)="removeExpense(expense.id)">
            Remove
          </button>
        </li>
      </ul>
    </div>
  </div>
</main>
